# Water Level Sensor Dashboard
# This file contains the Lovelace dashboard views for water level monitoring
# Import this into your Lovelace dashboard or use as a separate dashboard

title: Water Level Monitoring
views:
  - title: Overview
    path: overview
    type: custom:grid-layout
    layout:
      grid-template-columns: 1fr 1fr
      grid-template-rows: auto auto auto
      grid-gap: 16px
    cards:
      - type: custom:mini-graph-card
        name: 3rd Floor Tank Level
        entity: sensor.water_level_3f
        line_color: "#2196F3"
        fill_color: "#2196F3"
        points_per_hour: 4
        hours_to_show: 24
        grid:
          top: 10%
          bottom: 10%
        layout:
          grid-area: 1 / 1 / 2 / 2

      - type: custom:mini-graph-card
        name: 1st Floor Tank Level
        entity: sensor.water_level_1f
        line_color: "#4CAF50"
        fill_color: "#4CAF50"
        points_per_hour: 4
        hours_to_show: 24
        grid:
          top: 10%
          bottom: 10%
        layout:
          grid-area: 1 / 2 / 2 / 3

      - type: entities
        title: Tank Status
        entities:
          - entity: sensor.water_level_3f
            name: 3rd Floor Level
          - entity: sensor.water_level_1f
            name: 1st Floor Level
          - entity: sensor.water_alert_tank_3f
            name: 3rd Floor Alert Status
          - entity: sensor.water_alert_tank_1f
            name: 1st Floor Alert Status
        layout:
          grid-area: 2 / 1 / 3 / 3

      - type: entities
        title: Quick Actions
        entities:
          - entity: input_button.calibrate_sensor_tank_3f
            name: Calibrate 3rd Floor Sensor
          - entity: input_button.calibrate_sensor_tank_1f
            name: Calibrate 1st Floor Sensor
        layout:
          grid-area: 3 / 1 / 4 / 3

  - title: Calibration
    path: calibration
    type: custom:grid-layout
    layout:
      grid-template-columns: 1fr 1fr
      grid-template-rows: auto auto auto
      grid-gap: 16px
    cards:
      - type: entities
        title: 3rd Floor Tank Settings
        entities:
          - entity: input_number.tank_height_tank_3f
            name: Tank Height (cm)
          - entity: input_number.tank_diameter_tank_3f
            name: Tank Diameter (cm)
          - entity: input_number.empty_distance_tank_3f
            name: Empty Distance (cm)
          - entity: input_number.full_distance_tank_3f
            name: Full Distance (cm)
        layout:
          grid-area: 1 / 1 / 2 / 2

      - type: entities
        title: 1st Floor Tank Settings
        entities:
          - entity: input_number.tank_height_tank_1f
            name: Tank Height (cm)
          - entity: input_number.tank_diameter_tank_1f
            name: Tank Diameter (cm)
          - entity: input_number.empty_distance_tank_1f
            name: Empty Distance (cm)
          - entity: input_number.full_distance_tank_1f
            name: Full Distance (cm)
        layout:
          grid-area: 1 / 2 / 2 / 3

      - type: entities
        title: Alert Thresholds - 3rd Floor
        entities:
          - entity: input_number.low_level_threshold_tank_3f
            name: Low Level Threshold (%)
          - entity: input_number.rapid_leak_threshold_tank_3f
            name: Rapid Leak Threshold (L/min)
          - entity: input_number.moderate_leak_threshold_tank_3f
            name: Moderate Leak Threshold (L/min)
          - entity: input_number.high_consumption_threshold_tank_3f
            name: High Consumption Threshold (L/min)
        layout:
          grid-area: 2 / 1 / 3 / 2

      - type: entities
        title: Alert Thresholds - 1st Floor
        entities:
          - entity: input_number.low_level_threshold_tank_1f
            name: Low Level Threshold (%)
          - entity: input_number.rapid_leak_threshold_tank_1f
            name: Rapid Leak Threshold (L/min)
          - entity: input_number.moderate_leak_threshold_tank_1f
            name: Moderate Leak Threshold (L/min)
          - entity: input_number.high_consumption_threshold_tank_1f
            name: High Consumption Threshold (L/min)
        layout:
          grid-area: 2 / 2 / 3 / 3

      - type: entities
        title: Advanced Settings
        entities:
          - entity: input_number.leak_detection_threshold_tank_3f
            name: Leak Detection Threshold - 3F
          - entity: input_number.leak_detection_threshold_tank_1f
            name: Leak Detection Threshold - 1F
          - entity: input_number.alert_cooldown_tank_3f
            name: Alert Cooldown - 3F (min)
          - entity: input_number.alert_cooldown_tank_1f
            name: Alert Cooldown - 1F (min)
        layout:
          grid-area: 3 / 1 / 4 / 3

  - title: Alerts
    path: alerts
    type: custom:grid-layout
    layout:
      grid-template-columns: 1fr
      grid-template-rows: auto auto
      grid-gap: 16px
    cards:
      - type: entities
        title: Current Alerts
        entities:
          - entity: sensor.water_alert_tank_3f
            name: 3rd Floor Alert Status
          - entity: sensor.water_alert_tank_1f
            name: 1st Floor Alert Status
        layout:
          grid-area: 1 / 1 / 2 / 2

      - type: custom:mini-graph-card
        name: Alert History
        entities:
          - entity: sensor.water_alert_tank_3f
            name: 3rd Floor
          - entity: sensor.water_alert_tank_1f
            name: 1st Floor
        line_color: "#FF5722"
        hours_to_show: 168
        points_per_hour: 1
        layout:
          grid-area: 2 / 1 / 3 / 2
